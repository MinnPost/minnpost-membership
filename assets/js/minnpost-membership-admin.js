'use strict';

(function ($) {

	function showMemberLevelFields() {
		var $toggle = $('#minnpost_membership_use_member_levels');
		// Toggle the field type
		$toggle.on('click', function (e) {
			var checkbox = $(this);
			if (checkbox.is(':checked')) {
				$('.minnpost-membership-member-levels').show();
				$('.minnpost-member-field.minnpost_membership_frequency_options, .minnpost-member-field.minnpost_membership_default_frequency').show();
			} else {
				$('.minnpost-membership-member-levels').hide();
				$('.minnpost-member-field.minnpost_membership_frequency_options, .minnpost-member-field.minnpost_membership_default_frequency').hide();
			}
		});
	}

	function toggleMembershipChangeFields() {
		var $toggle = $('#minnpost_membership_support_post_form_change_for_members');
		var fields = '.minnpost_membership_support_post_form_nochange, .minnpost_membership_support_post_form_change';
		if ($toggle.is(':checked')) {
			$(fields).show();
		} else {
			$(fields).hide();
		}
		$toggle.on('click', function (e) {
			var checkbox = $(this);
			if (checkbox.is(':checked')) {
				$(fields).show();
			} else {
				$(fields).hide();
			}
		});
	}

	function toggleBenefitActionFields() {
		var $toggle = $('input[name="minnpost_membership_support-partner-offers-user_state[]"]');

		$($toggle).each(function () {
			$('.minnpost-member-field-' + $(this).val()).wrapAll('<tr class="minnpost-member-fields-wrap minnpost-member-fields-wrap-' + $(this).val() + '"><td colspan="2"><table />');
			$('.minnpost-member-fields-wrap').hide();
			$('.minnpost-member-fields-wrap-' + $(this).val() + ' table').before('<h3>' + $(this).parent().text() + ' settings</h3>');
		});

		if ($toggle.is(':checked')) {
			$('.minnpost-member-fields-wrap-' + $('input[name="minnpost_membership_support-partner-offers-user_state[]"]:checked').val()).show();
		}
		$toggle.on('click', function (e) {
			var checkbox = $(this);

			$('.minnpost-member-fields-wrap').hide();

			if (checkbox.is(':checked')) {
				$('.minnpost-member-fields-wrap-' + $(this).val()).show();
			}
		});
	}

	$(document).ready(function () {

		// show or hide member level fields
		if ($('.minnpost_membership_use_member_levels').length > 0) {
			showMemberLevelFields();
		}

		if ($('.minnpost_membership_support_post_form_change_for_members').length > 0) {
			toggleMembershipChangeFields();
		}

		if ($('.minnpost_membership_support-partner-offers-user_state').length > 0) {
			toggleBenefitActionFields();
		}

		$('.minnpost-membership-general-settings').minnpostMembership({
			'amount_viewer': '.amount h5',
			'frequency_selector_in_levels': 'input[name="minnpost_membership_default_frequency[]"]',
			'frequency_selector_in_levels_type': 'radio',
			'levels_container': '.minnpost-membership-member-levels',
			'single_level_container': '.minnpost-membership-member-level',
			'single_level_summary_selector': '.member-level-brief',
			'flipped_items': 'div.amount, div.enter',
			'level_frequency_text_selector': '.show-frequency'
		});
	});
})(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lbWJlci1sZXZlbHMuanMiXSwibmFtZXMiOlsiJCIsInNob3dNZW1iZXJMZXZlbEZpZWxkcyIsIiR0b2dnbGUiLCJvbiIsImUiLCJjaGVja2JveCIsImlzIiwic2hvdyIsImhpZGUiLCJ0b2dnbGVNZW1iZXJzaGlwQ2hhbmdlRmllbGRzIiwiZmllbGRzIiwidG9nZ2xlQmVuZWZpdEFjdGlvbkZpZWxkcyIsImVhY2giLCJ2YWwiLCJ3cmFwQWxsIiwiYmVmb3JlIiwicGFyZW50IiwidGV4dCIsImRvY3VtZW50IiwicmVhZHkiLCJsZW5ndGgiLCJtaW5ucG9zdE1lbWJlcnNoaXAiLCJqUXVlcnkiXSwibWFwcGluZ3MiOiI7O0FBQUEsQ0FBQyxVQUFTQSxDQUFULEVBQVc7O0FBRVgsVUFBU0MscUJBQVQsR0FBaUM7QUFDaEMsTUFBSUMsVUFBVUYsRUFBRSx3Q0FBRixDQUFkO0FBQ0E7QUFDQUUsVUFBUUMsRUFBUixDQUFXLE9BQVgsRUFBb0IsVUFBU0MsQ0FBVCxFQUFZO0FBQy9CLE9BQUlDLFdBQVdMLEVBQUUsSUFBRixDQUFmO0FBQ0EsT0FBSUssU0FBU0MsRUFBVCxDQUFZLFVBQVosQ0FBSixFQUE2QjtBQUM1Qk4sTUFBRSxvQ0FBRixFQUF3Q08sSUFBeEM7QUFDQVAsTUFBRSw0SEFBRixFQUFnSU8sSUFBaEk7QUFDQSxJQUhELE1BR087QUFDTlAsTUFBRSxvQ0FBRixFQUF3Q1EsSUFBeEM7QUFDQVIsTUFBRSw0SEFBRixFQUFnSVEsSUFBaEk7QUFDQTtBQUNELEdBVEQ7QUFVQTs7QUFFRCxVQUFTQyw0QkFBVCxHQUF3QztBQUN2QyxNQUFJUCxVQUFVRixFQUFFLDJEQUFGLENBQWQ7QUFDQSxNQUFJVSxTQUFTLGdHQUFiO0FBQ0EsTUFBSVIsUUFBUUksRUFBUixDQUFXLFVBQVgsQ0FBSixFQUE0QjtBQUMzQk4sS0FBRVUsTUFBRixFQUFVSCxJQUFWO0FBQ0EsR0FGRCxNQUVPO0FBQ05QLEtBQUVVLE1BQUYsRUFBVUYsSUFBVjtBQUNBO0FBQ0ROLFVBQVFDLEVBQVIsQ0FBVyxPQUFYLEVBQW9CLFVBQVNDLENBQVQsRUFBWTtBQUMvQixPQUFJQyxXQUFXTCxFQUFFLElBQUYsQ0FBZjtBQUNBLE9BQUlLLFNBQVNDLEVBQVQsQ0FBWSxVQUFaLENBQUosRUFBNkI7QUFDNUJOLE1BQUVVLE1BQUYsRUFBVUgsSUFBVjtBQUNBLElBRkQsTUFFTztBQUNOUCxNQUFFVSxNQUFGLEVBQVVGLElBQVY7QUFDQTtBQUNELEdBUEQ7QUFRQTs7QUFFRCxVQUFTRyx5QkFBVCxHQUFxQztBQUNwQyxNQUFJVCxVQUFVRixFQUFFLHVFQUFGLENBQWQ7O0FBRUFBLElBQUVFLE9BQUYsRUFBV1UsSUFBWCxDQUFnQixZQUFXO0FBQzFCWixLQUFHLDRCQUE0QkEsRUFBRSxJQUFGLEVBQVFhLEdBQVIsRUFBL0IsRUFBK0NDLE9BQS9DLENBQXdELHdFQUF3RWQsRUFBRSxJQUFGLEVBQVFhLEdBQVIsRUFBeEUsR0FBd0YsNkJBQWhKO0FBQ0FiLEtBQUcsOEJBQUgsRUFBb0NRLElBQXBDO0FBQ0FSLEtBQUcsa0NBQWtDQSxFQUFFLElBQUYsRUFBUWEsR0FBUixFQUFsQyxHQUFrRCxRQUFyRCxFQUFnRUUsTUFBaEUsQ0FBd0UsU0FBU2YsRUFBRSxJQUFGLEVBQVFnQixNQUFSLEdBQWlCQyxJQUFqQixFQUFULEdBQW1DLGdCQUEzRztBQUNHLEdBSko7O0FBTUEsTUFBSWYsUUFBUUksRUFBUixDQUFXLFVBQVgsQ0FBSixFQUE0QjtBQUMzQk4sS0FBRyxrQ0FBa0NBLEVBQUUsK0VBQUYsRUFBbUZhLEdBQW5GLEVBQXJDLEVBQWdJTixJQUFoSTtBQUNBO0FBQ0RMLFVBQVFDLEVBQVIsQ0FBVyxPQUFYLEVBQW9CLFVBQVNDLENBQVQsRUFBWTtBQUMvQixPQUFJQyxXQUFXTCxFQUFFLElBQUYsQ0FBZjs7QUFFQUEsS0FBRyw4QkFBSCxFQUFvQ1EsSUFBcEM7O0FBRUEsT0FBSUgsU0FBU0MsRUFBVCxDQUFZLFVBQVosQ0FBSixFQUE2QjtBQUM1Qk4sTUFBRyxrQ0FBa0NBLEVBQUUsSUFBRixFQUFRYSxHQUFSLEVBQXJDLEVBQXFETixJQUFyRDtBQUNBO0FBQ0QsR0FSRDtBQVNBOztBQUVEUCxHQUFFa0IsUUFBRixFQUFZQyxLQUFaLENBQWtCLFlBQVc7O0FBRTVCO0FBQ0EsTUFBSW5CLEVBQUUsd0NBQUYsRUFBNENvQixNQUE1QyxHQUFxRCxDQUF6RCxFQUE2RDtBQUM1RG5CO0FBQ0E7O0FBRUQsTUFBS0QsRUFBRSwyREFBRixFQUErRG9CLE1BQS9ELEdBQXdFLENBQTdFLEVBQWlGO0FBQ2hGWDtBQUNBOztBQUVELE1BQUtULEVBQUUsd0RBQUYsRUFBNERvQixNQUE1RCxHQUFxRSxDQUExRSxFQUE4RTtBQUM3RVQ7QUFDQTs7QUFFRFgsSUFBRSx1Q0FBRixFQUEyQ3FCLGtCQUEzQyxDQUE4RDtBQUM3RCxvQkFBa0IsWUFEMkM7QUFFN0QsbUNBQWlDLHVEQUY0QjtBQUc3RCx3Q0FBc0MsT0FIdUI7QUFJN0QsdUJBQXFCLG9DQUp3QztBQUs3RCw2QkFBMkIsbUNBTGtDO0FBTTdELG9DQUFrQyxxQkFOMkI7QUFPN0Qsb0JBQWtCLHVCQVAyQztBQVE3RCxvQ0FBa0M7QUFSMkIsR0FBOUQ7QUFXQSxFQTFCRDtBQTRCQSxDQXRGRCxFQXNGR0MsTUF0RkgiLCJmaWxlIjoibWlubnBvc3QtbWVtYmVyc2hpcC1hZG1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigkKXtcblxuXHRmdW5jdGlvbiBzaG93TWVtYmVyTGV2ZWxGaWVsZHMoKSB7XG5cdFx0dmFyICR0b2dnbGUgPSAkKCcjbWlubnBvc3RfbWVtYmVyc2hpcF91c2VfbWVtYmVyX2xldmVscycpO1xuXHRcdC8vIFRvZ2dsZSB0aGUgZmllbGQgdHlwZVxuXHRcdCR0b2dnbGUub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuXHRcdFx0dmFyIGNoZWNrYm94ID0gJCh0aGlzKTtcblx0XHRcdGlmIChjaGVja2JveC5pcygnOmNoZWNrZWQnKSkge1xuXHRcdFx0XHQkKCcubWlubnBvc3QtbWVtYmVyc2hpcC1tZW1iZXItbGV2ZWxzJykuc2hvdygpO1xuXHRcdFx0XHQkKCcubWlubnBvc3QtbWVtYmVyLWZpZWxkLm1pbm5wb3N0X21lbWJlcnNoaXBfZnJlcXVlbmN5X29wdGlvbnMsIC5taW5ucG9zdC1tZW1iZXItZmllbGQubWlubnBvc3RfbWVtYmVyc2hpcF9kZWZhdWx0X2ZyZXF1ZW5jeScpLnNob3coKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdCQoJy5taW5ucG9zdC1tZW1iZXJzaGlwLW1lbWJlci1sZXZlbHMnKS5oaWRlKCk7XG5cdFx0XHRcdCQoJy5taW5ucG9zdC1tZW1iZXItZmllbGQubWlubnBvc3RfbWVtYmVyc2hpcF9mcmVxdWVuY3lfb3B0aW9ucywgLm1pbm5wb3N0LW1lbWJlci1maWVsZC5taW5ucG9zdF9tZW1iZXJzaGlwX2RlZmF1bHRfZnJlcXVlbmN5JykuaGlkZSgpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0ZnVuY3Rpb24gdG9nZ2xlTWVtYmVyc2hpcENoYW5nZUZpZWxkcygpIHtcblx0XHR2YXIgJHRvZ2dsZSA9ICQoJyNtaW5ucG9zdF9tZW1iZXJzaGlwX3N1cHBvcnRfcG9zdF9mb3JtX2NoYW5nZV9mb3JfbWVtYmVycycpO1xuXHRcdHZhciBmaWVsZHMgPSAnLm1pbm5wb3N0X21lbWJlcnNoaXBfc3VwcG9ydF9wb3N0X2Zvcm1fbm9jaGFuZ2UsIC5taW5ucG9zdF9tZW1iZXJzaGlwX3N1cHBvcnRfcG9zdF9mb3JtX2NoYW5nZSc7XG5cdFx0aWYgKCR0b2dnbGUuaXMoJzpjaGVja2VkJykpIHtcblx0XHRcdCQoZmllbGRzKS5zaG93KCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdCQoZmllbGRzKS5oaWRlKCk7XG5cdFx0fVxuXHRcdCR0b2dnbGUub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuXHRcdFx0dmFyIGNoZWNrYm94ID0gJCh0aGlzKTtcblx0XHRcdGlmIChjaGVja2JveC5pcygnOmNoZWNrZWQnKSkge1xuXHRcdFx0XHQkKGZpZWxkcykuc2hvdygpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0JChmaWVsZHMpLmhpZGUoKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdGZ1bmN0aW9uIHRvZ2dsZUJlbmVmaXRBY3Rpb25GaWVsZHMoKSB7XG5cdFx0dmFyICR0b2dnbGUgPSAkKCdpbnB1dFtuYW1lPVwibWlubnBvc3RfbWVtYmVyc2hpcF9zdXBwb3J0LXBhcnRuZXItb2ZmZXJzLXVzZXJfc3RhdGVbXVwiXScpO1xuXG5cdFx0JCgkdG9nZ2xlKS5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0JCggJy5taW5ucG9zdC1tZW1iZXItZmllbGQtJyArICQodGhpcykudmFsKCkgKS53cmFwQWxsKCAnPHRyIGNsYXNzPVwibWlubnBvc3QtbWVtYmVyLWZpZWxkcy13cmFwIG1pbm5wb3N0LW1lbWJlci1maWVsZHMtd3JhcC0nICsgJCh0aGlzKS52YWwoKSArICdcIj48dGQgY29sc3Bhbj1cIjJcIj48dGFibGUgLz4nKTtcblx0XHRcdCQoICcubWlubnBvc3QtbWVtYmVyLWZpZWxkcy13cmFwJyApLmhpZGUoKTtcblx0XHRcdCQoICcubWlubnBvc3QtbWVtYmVyLWZpZWxkcy13cmFwLScgKyAkKHRoaXMpLnZhbCgpICsgJyB0YWJsZScgKS5iZWZvcmUoICc8aDM+JyArICQodGhpcykucGFyZW50KCkudGV4dCgpICsgJyBzZXR0aW5nczwvaDM+JyApO1xuXHQgICAgfSk7XG5cblx0XHRpZiAoJHRvZ2dsZS5pcygnOmNoZWNrZWQnKSkge1xuXHRcdFx0JCggJy5taW5ucG9zdC1tZW1iZXItZmllbGRzLXdyYXAtJyArICQoJ2lucHV0W25hbWU9XCJtaW5ucG9zdF9tZW1iZXJzaGlwX3N1cHBvcnQtcGFydG5lci1vZmZlcnMtdXNlcl9zdGF0ZVtdXCJdOmNoZWNrZWQnKS52YWwoKSApLnNob3coKTtcblx0XHR9XG5cdFx0JHRvZ2dsZS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG5cdFx0XHR2YXIgY2hlY2tib3ggPSAkKHRoaXMpO1xuXG5cdFx0XHQkKCAnLm1pbm5wb3N0LW1lbWJlci1maWVsZHMtd3JhcCcgKS5oaWRlKCk7XG5cblx0XHRcdGlmIChjaGVja2JveC5pcygnOmNoZWNrZWQnKSkge1xuXHRcdFx0XHQkKCAnLm1pbm5wb3N0LW1lbWJlci1maWVsZHMtd3JhcC0nICsgJCh0aGlzKS52YWwoKSApLnNob3coKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdCQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuXG5cdFx0Ly8gc2hvdyBvciBoaWRlIG1lbWJlciBsZXZlbCBmaWVsZHNcblx0XHRpZiAoJCgnLm1pbm5wb3N0X21lbWJlcnNoaXBfdXNlX21lbWJlcl9sZXZlbHMnKS5sZW5ndGggPiAwICkge1xuXHRcdFx0c2hvd01lbWJlckxldmVsRmllbGRzKCk7XG5cdFx0fVxuXG5cdFx0aWYgKCAkKCcubWlubnBvc3RfbWVtYmVyc2hpcF9zdXBwb3J0X3Bvc3RfZm9ybV9jaGFuZ2VfZm9yX21lbWJlcnMnKS5sZW5ndGggPiAwICkge1xuXHRcdFx0dG9nZ2xlTWVtYmVyc2hpcENoYW5nZUZpZWxkcygpO1xuXHRcdH1cblxuXHRcdGlmICggJCgnLm1pbm5wb3N0X21lbWJlcnNoaXBfc3VwcG9ydC1wYXJ0bmVyLW9mZmVycy11c2VyX3N0YXRlJykubGVuZ3RoID4gMCApIHtcblx0XHRcdHRvZ2dsZUJlbmVmaXRBY3Rpb25GaWVsZHMoKTtcblx0XHR9XG5cblx0XHQkKCcubWlubnBvc3QtbWVtYmVyc2hpcC1nZW5lcmFsLXNldHRpbmdzJykubWlubnBvc3RNZW1iZXJzaGlwKHtcblx0XHRcdCdhbW91bnRfdmlld2VyJyA6ICcuYW1vdW50IGg1Jyxcblx0XHRcdCdmcmVxdWVuY3lfc2VsZWN0b3JfaW5fbGV2ZWxzJyA6ICdpbnB1dFtuYW1lPVwibWlubnBvc3RfbWVtYmVyc2hpcF9kZWZhdWx0X2ZyZXF1ZW5jeVtdXCJdJyxcblx0XHRcdCdmcmVxdWVuY3lfc2VsZWN0b3JfaW5fbGV2ZWxzX3R5cGUnIDogJ3JhZGlvJyxcblx0XHRcdCdsZXZlbHNfY29udGFpbmVyJyA6ICcubWlubnBvc3QtbWVtYmVyc2hpcC1tZW1iZXItbGV2ZWxzJyxcblx0XHRcdCdzaW5nbGVfbGV2ZWxfY29udGFpbmVyJyA6ICcubWlubnBvc3QtbWVtYmVyc2hpcC1tZW1iZXItbGV2ZWwnLFxuXHRcdFx0J3NpbmdsZV9sZXZlbF9zdW1tYXJ5X3NlbGVjdG9yJyA6ICcubWVtYmVyLWxldmVsLWJyaWVmJyxcblx0XHRcdCdmbGlwcGVkX2l0ZW1zJyA6ICdkaXYuYW1vdW50LCBkaXYuZW50ZXInLFxuXHRcdFx0J2xldmVsX2ZyZXF1ZW5jeV90ZXh0X3NlbGVjdG9yJyA6ICcuc2hvdy1mcmVxdWVuY3knLFxuXHRcdH0pO1xuXG5cdH0pO1xuXG59KShqUXVlcnkpO1xuIl19
