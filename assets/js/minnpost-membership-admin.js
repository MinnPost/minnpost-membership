'use strict';

(function ($) {

	function showMemberLevelFields() {
		var $toggle = $('#minnpost_membership_use_member_levels');
		// Toggle the field type
		$toggle.on('click', function (e) {
			var checkbox = $(this);
			if (checkbox.is(':checked')) {
				$('.minnpost-membership-member-levels').show();
				$('.minnpost-member-field.minnpost_membership_frequency_options, .minnpost-member-field.minnpost_membership_default_frequency').show();
			} else {
				$('.minnpost-membership-member-levels').hide();
				$('.minnpost-member-field.minnpost_membership_frequency_options, .minnpost-member-field.minnpost_membership_default_frequency').hide();
			}
		});
	}

	function toggleMembershipChangeFields() {
		var $toggle = $('#minnpost_membership_support_post_form_change_for_members');
		var fields = '.minnpost_membership_support_post_form_nochange, .minnpost_membership_support_post_form_change';
		if ($toggle.is(':checked')) {
			$(fields).show();
		} else {
			$(fields).hide();
		}
		$toggle.on('click', function (e) {
			var checkbox = $(this);
			if (checkbox.is(':checked')) {
				$(fields).show();
			} else {
				$(fields).hide();
			}
		});
	}

	function toggleBenefitActionFields() {
		var $toggle = $('input[name="minnpost_membership_support-partner-offers-user_state[]"]');

		$($toggle).each(function () {
			$('.minnpost_membership_support-partner-offers_action_title_' + $(this).val() + ', .minnpost_membership_support-partner-offers_action_body_' + $(this).val()).hide();
		});

		if ($toggle.is(':checked')) {
			$('.minnpost_membership_support-partner-offers_action_title_' + $('input[name="minnpost_membership_support-partner-offers-user_state[]"]:checked').val() + ', .minnpost_membership_support-partner-offers_action_body_' + $('input[name="minnpost_membership_support-partner-offers-user_state[]"]:checked').val()).show();
		}
		$toggle.on('click', function (e) {
			var checkbox = $(this);

			$($toggle).each(function () {
				$('.minnpost_membership_support-partner-offers_action_title_' + $(this).val() + ', .minnpost_membership_support-partner-offers_action_body_' + $(this).val()).hide();
			});

			if (checkbox.is(':checked')) {
				$('.minnpost_membership_support-partner-offers_action_title_' + $(this).val() + ', .minnpost_membership_support-partner-offers_action_body_' + $(this).val()).show();
			}
		});
	}

	$(document).ready(function () {

		// show or hide member level fields
		if ($('.minnpost_membership_use_member_levels').length > 0) {
			showMemberLevelFields();
		}

		if ($('.minnpost_membership_support_post_form_change_for_members').length > 0) {
			toggleMembershipChangeFields();
		}

		if ($('.minnpost_membership_support-partner-offers-user_state').length > 0) {
			toggleBenefitActionFields();
		}

		$('.minnpost-membership-general-settings').minnpostMembership({
			'amount_viewer': '.amount h5',
			'frequency_selector_in_levels': 'input[name="minnpost_membership_default_frequency[]"]',
			'frequency_selector_in_levels_type': 'radio',
			'levels_container': '.minnpost-membership-member-levels',
			'single_level_container': '.minnpost-membership-member-level',
			'single_level_summary_selector': '.member-level-brief',
			'flipped_items': 'div.amount, div.enter',
			'level_frequency_text_selector': '.show-frequency'
		});
	});
})(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lbWJlci1sZXZlbHMuanMiXSwibmFtZXMiOlsiJCIsInNob3dNZW1iZXJMZXZlbEZpZWxkcyIsIiR0b2dnbGUiLCJvbiIsImUiLCJjaGVja2JveCIsImlzIiwic2hvdyIsImhpZGUiLCJ0b2dnbGVNZW1iZXJzaGlwQ2hhbmdlRmllbGRzIiwiZmllbGRzIiwidG9nZ2xlQmVuZWZpdEFjdGlvbkZpZWxkcyIsImVhY2giLCJ2YWwiLCJkb2N1bWVudCIsInJlYWR5IiwibGVuZ3RoIiwibWlubnBvc3RNZW1iZXJzaGlwIiwialF1ZXJ5Il0sIm1hcHBpbmdzIjoiOztBQUFBLENBQUMsVUFBU0EsQ0FBVCxFQUFXOztBQUVYLFVBQVNDLHFCQUFULEdBQWlDO0FBQ2hDLE1BQUlDLFVBQVVGLEVBQUUsd0NBQUYsQ0FBZDtBQUNBO0FBQ0FFLFVBQVFDLEVBQVIsQ0FBVyxPQUFYLEVBQW9CLFVBQVNDLENBQVQsRUFBWTtBQUMvQixPQUFJQyxXQUFXTCxFQUFFLElBQUYsQ0FBZjtBQUNBLE9BQUlLLFNBQVNDLEVBQVQsQ0FBWSxVQUFaLENBQUosRUFBNkI7QUFDNUJOLE1BQUUsb0NBQUYsRUFBd0NPLElBQXhDO0FBQ0FQLE1BQUUsNEhBQUYsRUFBZ0lPLElBQWhJO0FBQ0EsSUFIRCxNQUdPO0FBQ05QLE1BQUUsb0NBQUYsRUFBd0NRLElBQXhDO0FBQ0FSLE1BQUUsNEhBQUYsRUFBZ0lRLElBQWhJO0FBQ0E7QUFDRCxHQVREO0FBVUE7O0FBRUQsVUFBU0MsNEJBQVQsR0FBd0M7QUFDdkMsTUFBSVAsVUFBVUYsRUFBRSwyREFBRixDQUFkO0FBQ0EsTUFBSVUsU0FBUyxnR0FBYjtBQUNBLE1BQUlSLFFBQVFJLEVBQVIsQ0FBVyxVQUFYLENBQUosRUFBNEI7QUFDM0JOLEtBQUVVLE1BQUYsRUFBVUgsSUFBVjtBQUNBLEdBRkQsTUFFTztBQUNOUCxLQUFFVSxNQUFGLEVBQVVGLElBQVY7QUFDQTtBQUNETixVQUFRQyxFQUFSLENBQVcsT0FBWCxFQUFvQixVQUFTQyxDQUFULEVBQVk7QUFDL0IsT0FBSUMsV0FBV0wsRUFBRSxJQUFGLENBQWY7QUFDQSxPQUFJSyxTQUFTQyxFQUFULENBQVksVUFBWixDQUFKLEVBQTZCO0FBQzVCTixNQUFFVSxNQUFGLEVBQVVILElBQVY7QUFDQSxJQUZELE1BRU87QUFDTlAsTUFBRVUsTUFBRixFQUFVRixJQUFWO0FBQ0E7QUFDRCxHQVBEO0FBUUE7O0FBRUQsVUFBU0cseUJBQVQsR0FBcUM7QUFDcEMsTUFBSVQsVUFBVUYsRUFBRSx1RUFBRixDQUFkOztBQUVBQSxJQUFFRSxPQUFGLEVBQVdVLElBQVgsQ0FBZ0IsWUFBVztBQUMxQlosS0FBRyw4REFBOERBLEVBQUUsSUFBRixFQUFRYSxHQUFSLEVBQTlELEdBQThFLDREQUE5RSxHQUE2SWIsRUFBRSxJQUFGLEVBQVFhLEdBQVIsRUFBaEosRUFBZ0tMLElBQWhLO0FBQ0csR0FGSjs7QUFJQSxNQUFJTixRQUFRSSxFQUFSLENBQVcsVUFBWCxDQUFKLEVBQTRCO0FBQzNCTixLQUFHLDhEQUE4REEsRUFBRSwrRUFBRixFQUFtRmEsR0FBbkYsRUFBOUQsR0FBeUosNERBQXpKLEdBQXdOYixFQUFFLCtFQUFGLEVBQW1GYSxHQUFuRixFQUEzTixFQUFzVE4sSUFBdFQ7QUFDQTtBQUNETCxVQUFRQyxFQUFSLENBQVcsT0FBWCxFQUFvQixVQUFTQyxDQUFULEVBQVk7QUFDL0IsT0FBSUMsV0FBV0wsRUFBRSxJQUFGLENBQWY7O0FBRUFBLEtBQUVFLE9BQUYsRUFBV1UsSUFBWCxDQUFnQixZQUFXO0FBQzFCWixNQUFHLDhEQUE4REEsRUFBRSxJQUFGLEVBQVFhLEdBQVIsRUFBOUQsR0FBOEUsNERBQTlFLEdBQTZJYixFQUFFLElBQUYsRUFBUWEsR0FBUixFQUFoSixFQUFnS0wsSUFBaEs7QUFDRyxJQUZKOztBQUlBLE9BQUlILFNBQVNDLEVBQVQsQ0FBWSxVQUFaLENBQUosRUFBNkI7QUFDNUJOLE1BQUcsOERBQThEQSxFQUFFLElBQUYsRUFBUWEsR0FBUixFQUE5RCxHQUE4RSw0REFBOUUsR0FBNkliLEVBQUUsSUFBRixFQUFRYSxHQUFSLEVBQWhKLEVBQWdLTixJQUFoSztBQUNBO0FBQ0QsR0FWRDtBQVdBOztBQUVEUCxHQUFFYyxRQUFGLEVBQVlDLEtBQVosQ0FBa0IsWUFBVzs7QUFFNUI7QUFDQSxNQUFJZixFQUFFLHdDQUFGLEVBQTRDZ0IsTUFBNUMsR0FBcUQsQ0FBekQsRUFBNkQ7QUFDNURmO0FBQ0E7O0FBRUQsTUFBS0QsRUFBRSwyREFBRixFQUErRGdCLE1BQS9ELEdBQXdFLENBQTdFLEVBQWlGO0FBQ2hGUDtBQUNBOztBQUVELE1BQUtULEVBQUUsd0RBQUYsRUFBNERnQixNQUE1RCxHQUFxRSxDQUExRSxFQUE4RTtBQUM3RUw7QUFDQTs7QUFFRFgsSUFBRSx1Q0FBRixFQUEyQ2lCLGtCQUEzQyxDQUE4RDtBQUM3RCxvQkFBa0IsWUFEMkM7QUFFN0QsbUNBQWlDLHVEQUY0QjtBQUc3RCx3Q0FBc0MsT0FIdUI7QUFJN0QsdUJBQXFCLG9DQUp3QztBQUs3RCw2QkFBMkIsbUNBTGtDO0FBTTdELG9DQUFrQyxxQkFOMkI7QUFPN0Qsb0JBQWtCLHVCQVAyQztBQVE3RCxvQ0FBa0M7QUFSMkIsR0FBOUQ7QUFXQSxFQTFCRDtBQTRCQSxDQXRGRCxFQXNGR0MsTUF0RkgiLCJmaWxlIjoibWlubnBvc3QtbWVtYmVyc2hpcC1hZG1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigkKXtcblxuXHRmdW5jdGlvbiBzaG93TWVtYmVyTGV2ZWxGaWVsZHMoKSB7XG5cdFx0dmFyICR0b2dnbGUgPSAkKCcjbWlubnBvc3RfbWVtYmVyc2hpcF91c2VfbWVtYmVyX2xldmVscycpO1xuXHRcdC8vIFRvZ2dsZSB0aGUgZmllbGQgdHlwZVxuXHRcdCR0b2dnbGUub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuXHRcdFx0dmFyIGNoZWNrYm94ID0gJCh0aGlzKTtcblx0XHRcdGlmIChjaGVja2JveC5pcygnOmNoZWNrZWQnKSkge1xuXHRcdFx0XHQkKCcubWlubnBvc3QtbWVtYmVyc2hpcC1tZW1iZXItbGV2ZWxzJykuc2hvdygpO1xuXHRcdFx0XHQkKCcubWlubnBvc3QtbWVtYmVyLWZpZWxkLm1pbm5wb3N0X21lbWJlcnNoaXBfZnJlcXVlbmN5X29wdGlvbnMsIC5taW5ucG9zdC1tZW1iZXItZmllbGQubWlubnBvc3RfbWVtYmVyc2hpcF9kZWZhdWx0X2ZyZXF1ZW5jeScpLnNob3coKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdCQoJy5taW5ucG9zdC1tZW1iZXJzaGlwLW1lbWJlci1sZXZlbHMnKS5oaWRlKCk7XG5cdFx0XHRcdCQoJy5taW5ucG9zdC1tZW1iZXItZmllbGQubWlubnBvc3RfbWVtYmVyc2hpcF9mcmVxdWVuY3lfb3B0aW9ucywgLm1pbm5wb3N0LW1lbWJlci1maWVsZC5taW5ucG9zdF9tZW1iZXJzaGlwX2RlZmF1bHRfZnJlcXVlbmN5JykuaGlkZSgpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0ZnVuY3Rpb24gdG9nZ2xlTWVtYmVyc2hpcENoYW5nZUZpZWxkcygpIHtcblx0XHR2YXIgJHRvZ2dsZSA9ICQoJyNtaW5ucG9zdF9tZW1iZXJzaGlwX3N1cHBvcnRfcG9zdF9mb3JtX2NoYW5nZV9mb3JfbWVtYmVycycpO1xuXHRcdHZhciBmaWVsZHMgPSAnLm1pbm5wb3N0X21lbWJlcnNoaXBfc3VwcG9ydF9wb3N0X2Zvcm1fbm9jaGFuZ2UsIC5taW5ucG9zdF9tZW1iZXJzaGlwX3N1cHBvcnRfcG9zdF9mb3JtX2NoYW5nZSc7XG5cdFx0aWYgKCR0b2dnbGUuaXMoJzpjaGVja2VkJykpIHtcblx0XHRcdCQoZmllbGRzKS5zaG93KCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdCQoZmllbGRzKS5oaWRlKCk7XG5cdFx0fVxuXHRcdCR0b2dnbGUub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuXHRcdFx0dmFyIGNoZWNrYm94ID0gJCh0aGlzKTtcblx0XHRcdGlmIChjaGVja2JveC5pcygnOmNoZWNrZWQnKSkge1xuXHRcdFx0XHQkKGZpZWxkcykuc2hvdygpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0JChmaWVsZHMpLmhpZGUoKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdGZ1bmN0aW9uIHRvZ2dsZUJlbmVmaXRBY3Rpb25GaWVsZHMoKSB7XG5cdFx0dmFyICR0b2dnbGUgPSAkKCdpbnB1dFtuYW1lPVwibWlubnBvc3RfbWVtYmVyc2hpcF9zdXBwb3J0LXBhcnRuZXItb2ZmZXJzLXVzZXJfc3RhdGVbXVwiXScpO1xuXG5cdFx0JCgkdG9nZ2xlKS5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0JCggJy5taW5ucG9zdF9tZW1iZXJzaGlwX3N1cHBvcnQtcGFydG5lci1vZmZlcnNfYWN0aW9uX3RpdGxlXycgKyAkKHRoaXMpLnZhbCgpICsgJywgLm1pbm5wb3N0X21lbWJlcnNoaXBfc3VwcG9ydC1wYXJ0bmVyLW9mZmVyc19hY3Rpb25fYm9keV8nICsgJCh0aGlzKS52YWwoKSApLmhpZGUoKTtcblx0ICAgIH0pO1xuXG5cdFx0aWYgKCR0b2dnbGUuaXMoJzpjaGVja2VkJykpIHtcblx0XHRcdCQoICcubWlubnBvc3RfbWVtYmVyc2hpcF9zdXBwb3J0LXBhcnRuZXItb2ZmZXJzX2FjdGlvbl90aXRsZV8nICsgJCgnaW5wdXRbbmFtZT1cIm1pbm5wb3N0X21lbWJlcnNoaXBfc3VwcG9ydC1wYXJ0bmVyLW9mZmVycy11c2VyX3N0YXRlW11cIl06Y2hlY2tlZCcpLnZhbCgpICsgJywgLm1pbm5wb3N0X21lbWJlcnNoaXBfc3VwcG9ydC1wYXJ0bmVyLW9mZmVyc19hY3Rpb25fYm9keV8nICsgJCgnaW5wdXRbbmFtZT1cIm1pbm5wb3N0X21lbWJlcnNoaXBfc3VwcG9ydC1wYXJ0bmVyLW9mZmVycy11c2VyX3N0YXRlW11cIl06Y2hlY2tlZCcpLnZhbCgpICkuc2hvdygpO1xuXHRcdH1cblx0XHQkdG9nZ2xlLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcblx0XHRcdHZhciBjaGVja2JveCA9ICQodGhpcyk7XG5cblx0XHRcdCQoJHRvZ2dsZSkuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdFx0JCggJy5taW5ucG9zdF9tZW1iZXJzaGlwX3N1cHBvcnQtcGFydG5lci1vZmZlcnNfYWN0aW9uX3RpdGxlXycgKyAkKHRoaXMpLnZhbCgpICsgJywgLm1pbm5wb3N0X21lbWJlcnNoaXBfc3VwcG9ydC1wYXJ0bmVyLW9mZmVyc19hY3Rpb25fYm9keV8nICsgJCh0aGlzKS52YWwoKSApLmhpZGUoKTtcblx0XHQgICAgfSk7XG5cblx0XHRcdGlmIChjaGVja2JveC5pcygnOmNoZWNrZWQnKSkge1xuXHRcdFx0XHQkKCAnLm1pbm5wb3N0X21lbWJlcnNoaXBfc3VwcG9ydC1wYXJ0bmVyLW9mZmVyc19hY3Rpb25fdGl0bGVfJyArICQodGhpcykudmFsKCkgKyAnLCAubWlubnBvc3RfbWVtYmVyc2hpcF9zdXBwb3J0LXBhcnRuZXItb2ZmZXJzX2FjdGlvbl9ib2R5XycgKyAkKHRoaXMpLnZhbCgpICkuc2hvdygpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0JChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG5cblx0XHQvLyBzaG93IG9yIGhpZGUgbWVtYmVyIGxldmVsIGZpZWxkc1xuXHRcdGlmICgkKCcubWlubnBvc3RfbWVtYmVyc2hpcF91c2VfbWVtYmVyX2xldmVscycpLmxlbmd0aCA+IDAgKSB7XG5cdFx0XHRzaG93TWVtYmVyTGV2ZWxGaWVsZHMoKTtcblx0XHR9XG5cblx0XHRpZiAoICQoJy5taW5ucG9zdF9tZW1iZXJzaGlwX3N1cHBvcnRfcG9zdF9mb3JtX2NoYW5nZV9mb3JfbWVtYmVycycpLmxlbmd0aCA+IDAgKSB7XG5cdFx0XHR0b2dnbGVNZW1iZXJzaGlwQ2hhbmdlRmllbGRzKCk7XG5cdFx0fVxuXG5cdFx0aWYgKCAkKCcubWlubnBvc3RfbWVtYmVyc2hpcF9zdXBwb3J0LXBhcnRuZXItb2ZmZXJzLXVzZXJfc3RhdGUnKS5sZW5ndGggPiAwICkge1xuXHRcdFx0dG9nZ2xlQmVuZWZpdEFjdGlvbkZpZWxkcygpO1xuXHRcdH1cblxuXHRcdCQoJy5taW5ucG9zdC1tZW1iZXJzaGlwLWdlbmVyYWwtc2V0dGluZ3MnKS5taW5ucG9zdE1lbWJlcnNoaXAoe1xuXHRcdFx0J2Ftb3VudF92aWV3ZXInIDogJy5hbW91bnQgaDUnLFxuXHRcdFx0J2ZyZXF1ZW5jeV9zZWxlY3Rvcl9pbl9sZXZlbHMnIDogJ2lucHV0W25hbWU9XCJtaW5ucG9zdF9tZW1iZXJzaGlwX2RlZmF1bHRfZnJlcXVlbmN5W11cIl0nLFxuXHRcdFx0J2ZyZXF1ZW5jeV9zZWxlY3Rvcl9pbl9sZXZlbHNfdHlwZScgOiAncmFkaW8nLFxuXHRcdFx0J2xldmVsc19jb250YWluZXInIDogJy5taW5ucG9zdC1tZW1iZXJzaGlwLW1lbWJlci1sZXZlbHMnLFxuXHRcdFx0J3NpbmdsZV9sZXZlbF9jb250YWluZXInIDogJy5taW5ucG9zdC1tZW1iZXJzaGlwLW1lbWJlci1sZXZlbCcsXG5cdFx0XHQnc2luZ2xlX2xldmVsX3N1bW1hcnlfc2VsZWN0b3InIDogJy5tZW1iZXItbGV2ZWwtYnJpZWYnLFxuXHRcdFx0J2ZsaXBwZWRfaXRlbXMnIDogJ2Rpdi5hbW91bnQsIGRpdi5lbnRlcicsXG5cdFx0XHQnbGV2ZWxfZnJlcXVlbmN5X3RleHRfc2VsZWN0b3InIDogJy5zaG93LWZyZXF1ZW5jeScsXG5cdFx0fSk7XG5cblx0fSk7XG5cbn0pKGpRdWVyeSk7XG4iXX0=
